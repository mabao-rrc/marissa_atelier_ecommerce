<%# ------------------------------------------------------ %>
<%# Product Show Page – Feature 2.3                        %>
<%# Displays detailed info about a single product          %>
<%# ------------------------------------------------------ %>

<div class="product-show">

  <!-- Product Image -->
  <% if @product.image_url.present? %>
    <%= image_tag @product.image_url, alt: @product.name, class: "product-show-image mb-4" %>
  <% end %>

  <!-- Product Name -->
  <h1 class="mb-3" style="color: #896629; font-family: 'Cormorant Garamond', serif;">
    <%= @product.name %>
  </h1>

  <!-- Product Description -->
  <p class="product-description">
    <%= @product.description %>
  </p>

  <!-- Product Price -->
  <p class="product-price mt-3">
    <strong>Price:</strong> <%= number_to_currency(@product.price) %>
  </p>

  <!-- Product Categories -->
  <% if @product.categories.any? %>
    <p class="mt-3" style="color: #404040;">
      <strong>Categories:</strong> <%= @product.categories.map(&:name).join(', ') %>
    </p>
  <% end %>

  <!-- Customer Reviews -->
  <div class="mt-5">
    <h3 style="font-family: 'Cormorant Garamond', serif; color: #1a1a1a;">Customer Reviews</h3>

    <% if @product.reviews.any? %>
      <% @product.reviews.each do |review| %>
        <div style="background-color: #f3f4f1; border: 1px solid #ccc; padding: 1rem; margin-bottom: 1rem; color: #404040;">
          <p style="margin-bottom: 0.5rem;"><strong>Rating:</strong> <%= review.rating %>/5</p>
          <p style="margin-bottom: 0.5rem;"><strong>Comment:</strong> <%= review.comment %></p>
          <% if review.customer.present? %>
            <p style="font-size: 0.95rem; color: #666;"><em>– <%= review.customer.name %></em></p>
          <% end %>
        </div>
      <% end %>
    <% else %>
      <p style="color: #404040;">No reviews yet.</p>
    <% end %>
  </div>

  <!-- Back to Storefront -->
  <div class="mt-4">
    <%= link_to '← Back to All Products', root_path, class: 'btn btn-atelier' %>
  </div>

</div>
