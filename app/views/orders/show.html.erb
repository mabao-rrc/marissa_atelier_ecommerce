<!-- app/views/orders/show.html.erb -->

<!-- Page title -->
<h1 class="mb-4" style="color: #896629;">Order Invoice</h1>

<!-- Order summary details -->
<div class="mb-4">
  <p><strong>Order ID:</strong> <%= @order.id %></p>
  <p><strong>Order Date:</strong> <%= @order.order_date.strftime("%B %d, %Y") %></p>
  <p><strong>Status:</strong> <%= @order.status %></p>
  <p><strong>Province:</strong> <%= @order.province %></p>
</div>

<!-- Order items table -->
<table class="table table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Unit Price</th>
      <th>Line Total</th>
    </tr>
  </thead>
  <tbody>
    <% @order_items.each do |item| %>
      <tr>
        <td><%= item.product.name %></td>
        <td><%= item.quantity %></td>
        <td><%= number_to_currency(item.unit_price) %></td>
        <td><%= number_to_currency(item.unit_price * item.quantity) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<!-- Totals section -->
<div class="mt-4">
  <p><strong>Subtotal:</strong> <%= number_to_currency(@order.subtotal) %></p>
  <p><strong>GST:</strong> <%= number_to_currency(@order.gst) %></p>
  <p><strong>PST:</strong> <%= number_to_currency(@order.pst) %></p>
  <p><strong>HST:</strong> <%= number_to_currency(@order.hst) %></p>
  <p class="fs-4 mt-3"><strong>Total:</strong> <%= number_to_currency(@order.total) %></p>
</div>

<!-- CTA: Back to Store -->
<%= link_to "Back to Store", root_path, class: "btn", style: "background-color: #896629; color: white; border: none;" %>
