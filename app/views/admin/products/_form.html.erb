<%# app/views/admin/products/_form.html.erb %>
<%# Shared form partial for creating and editing products in the admin dashboard %>

<div class="container" style="max-width: 700px; background-color: #f7f7f3; padding: 2rem; border-radius: 0; font-family: 'Cormorant Garamond', serif;">
  <%= form_with(model: [:admin, @product], local: true) do |f| %>
    
    <%# Show validation errors if there are any %>
    <% if @product.errors.any? %>
      <div class="alert alert-danger mb-4">
        <h4><%= pluralize(@product.errors.count, "error") %> prevented this product from being saved:</h4>
        <ul>
          <% @product.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%# Product name input %>
    <div class="mb-3">
      <%= f.label :name, class: "form-label", style: "color: #404040;" %>
      <%= f.text_field :name, class: "form-control", placeholder: "Enter product name", style: "border-radius: 0; background-color: #fafafa; border: 1px solid #ccc; color: #404040;" %>
    </div>

    <%# Product description textarea with increased height %>
    <div class="mb-3">
      <%= f.label :description, class: "form-label", style: "color: #404040;" %>
      <%= f.text_area :description, rows: 6, class: "form-control", placeholder: "Enter product description", style: "height: 150px; border-radius: 0; background-color: #fafafa; border: 1px solid #ccc; color: #404040;" %>
    </div>

    <%# Product price input %>
    <div class="mb-3">
      <%= f.label :price, class: "form-label", style: "color: #404040;" %>
      <%= f.number_field :price, step: 0.01, class: "form-control", placeholder: "Enter product price", style: "border-radius: 0; background-color: #fafafa; border: 1px solid #ccc; color: #404040;" %>
    </div>

    <%# Product stock quantity input %>
    <div class="mb-3">
      <%= f.label :stock_quantity, class: "form-label", style: "color: #404040;" %>
      <%= f.number_field :stock_quantity, class: "form-control", placeholder: "Enter stock quantity", style: "border-radius: 0; background-color: #fafafa; border: 1px solid #ccc; color: #404040;" %>
    </div>

    <%# Image URL input %>
    <div class="mb-4">
      <%= f.label :image_url, class: "form-label", style: "color: #404040;" %>
      <%= f.text_field :image_url, class: "form-control", placeholder: "Enter image URL", style: "border-radius: 0; background-color: #fafafa; border: 1px solid #ccc; color: #404040;" %>
    </div>

    <%# Submit and Back buttons, centered and styled %>
    <div class="d-flex justify-content-center gap-3">
      <%= f.submit 'Create Product', class: 'btn', style: "background-color: #896629; color: #fafafa; border-radius: 0; padding: 0.5rem 1.5rem;" %>
      <%= link_to 'Back', admin_products_path, class: 'btn', style: "background-color: #a9a58f; color: #fafafa; border-radius: 0; padding: 0.5rem 1.5rem;" %>
    </div>

  <% end %>
</div>
